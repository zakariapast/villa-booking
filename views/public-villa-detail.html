<!-- views/public-villa-detail.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Villa Details</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    body { background-color: #F8F9FA; font-family: 'Poppins', sans-serif; color: #2C3E50; }
    .villa-header img { width: 100%; max-height: 400px; object-fit: cover; border-radius: 1rem; }
    .btn-primary { background-color: #2E8B57; border: none; }
    .btn-primary:hover { background-color: #246B45; }
    .footer { background: #2C3E50; color: white; text-align: center; padding: 20px 0; margin-top: 80px; }
  </style>
</head>
<body>
  <div class="container py-5">
    <a href="/" class="btn btn-sm btn-outline-primary mb-4">‚Üê Back to Villas</a>
    <div id="villaDetails"></div>
  </div>

  <div class="footer">
    &copy; 2025 Villa Booking. All rights reserved.
  </div>

  <script>
    async function loadDetails() {
      const id = window.location.pathname.split('/').pop();
      const res = await fetch('/api/villas');
      const villas = await res.json();
      const villa = villas.find(v => v.id === id);
      if (!villa) return;

      const container = document.getElementById('villaDetails');
      container.innerHTML = `
        <div class="villa-header mb-4">
          <img src="${villa.image}" alt="Villa Image">
        </div>
        <h2>${villa.name}</h2>
        <p class="text-muted">üìç ${villa.location}</p>
        <p>${villa.description}</p>
        <h5 class="mt-4">Location Map</h5>
        <iframe src="${villa.map}" width="100%" height="350" style="border:0; border-radius: 1rem;" allowfullscreen="" loading="lazy"></iframe>
      `;
    }
    loadDetails();
  </script>
</body>
</html>
